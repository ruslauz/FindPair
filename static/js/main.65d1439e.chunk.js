(this["webpackJsonpfind-pair"]=this["webpackJsonpfind-pair"]||[]).push([[0],[,,function(e,t,a){e.exports={Finish:"Finish_Finish__zwfJC",appear:"Finish_appear__FIirp",vanish:"Finish_vanish__cqQCJ","player-highscore":"Finish_player-highscore__23BzU","player-highscore__score":"Finish_player-highscore__score__3TAfC","player-highscore__name":"Finish_player-highscore__name__LZr0y","player-highscore__level":"Finish_player-highscore__level__3AzaV","action-buttons":"Finish_action-buttons__15R2B",scores:"Finish_scores__HulzG",scores__name:"Finish_scores__name__11YY-",scores__score:"Finish_scores__score__K1USh"}},function(e,t,a){e.exports={Game:"Game_Game__uljQe",appear:"Game_appear__2r_vm",vanish:"Game_vanish__2k-Fr",cards:"Game_cards__1u89R",header:"Game_header__cOiWf",player:"Game_player__38-ar",steps:"Game_steps__7da7y",buttons:"Game_buttons__17h1m"}},,function(e,t,a){e.exports={container:"Card_container__2U80V",card:"Card_card__35wN0",front:"Card_front__7CH74",back:"Card_back__1-JZn",back_1:"Card_back_1__3zmQL",back_2:"Card_back_2__iEG4s",back_3:"Card_back_3__3o-Uf",back_4:"Card_back_4__NqWN2",back_5:"Card_back_5__3tqDe",back_6:"Card_back_6__3b2-f",back_7:"Card_back_7__36n44",back_8:"Card_back_8__hJnzv",back_9:"Card_back_9__16iGn",back_10:"Card_back_10__1Ys1A",back_11:"Card_back_11__2LjiW",back_12:"Card_back_12__PvImY",back_13:"Card_back_13__37iEI",back_14:"Card_back_14__2N800",back_15:"Card_back_15__1DLYk",active:"Card_active__w5w5S"}},,,,,,,function(e,t,a){e.exports={NameInput:"NameInput_NameInput__2zw8A",appear:"NameInput_appear__eA6W2",vanish:"NameInput_vanish__2QYm6"}},function(e,t,a){e.exports={LevelInput:"LevelInput_LevelInput__1mf7q",appear:"LevelInput_appear__3qMvQ",vanish:"LevelInput_vanish__14bqd"}},,function(e,t,a){e.exports={App:"App_App__15LM-",vanish:"App_vanish__2Yvk7"}},,,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),r=a.n(s),c=a(14),i=a.n(c),l=(a(21),a(10)),o=a(6),d=a(7),u=a(9),h=a(8),m=a(15),_=a.n(m),p=a(4),b=a(12),j=a.n(b),f=function(e){return Object(n.jsxs)("label",{children:[Object(n.jsx)("input",{type:e.type,name:e.name,value:e.value,onChange:e.onChange,ref:e.inputRef,placeholder:e.placeholder,onFocus:e.onFocus,onBlur:e.onBlur,autocomplete:"off"}),Object(n.jsx)("span",{children:e.LabelText})]})},v=function(e){var t=Object(s.useState)(!1),a=Object(p.a)(t,2),r=a[0],c=a[1],i=Object(s.useState)(!0),l=Object(p.a)(i,2),o=l[0],d=l[1],u=[j.a.NameInput];return r&&u.push(j.a.vanish),Object(n.jsxs)("div",{className:u.join(" "),children:[Object(n.jsxs)("fieldset",{children:[Object(n.jsx)("legend",{children:"Identify Yourself"}),Object(n.jsx)(f,{type:"text",name:"userName",placeholder:e.nameInputPlaceHolder,value:e.nameInputValue,onChange:function(t){t.preventDefault(),e.onChange(t,d)},onFocus:e.nameInputFocusHandler,onBlur:e.nameInputBlurHandler})]}),Object(n.jsx)("button",{onClick:function(){return e.onClick(c)},disabled:o,children:"Next"})]})},g=a(13),C=a.n(g),O=function(e){var t=Object(s.createRef)();return Object(n.jsxs)("div",{className:C.a.LevelInput,ref:t,children:[Object(n.jsxs)("fieldset",{children:[Object(n.jsx)("legend",{children:"What's Your Level"}),e.levels.map((function(t){return Object(n.jsx)(f,{type:"radio",name:"level",value:t,LabelText:t,onChange:e.levelChangeHandler},t)}))]}),Object(n.jsx)("button",{onClick:function(){return e.startButtonHandler(t,C.a.vanish)},disabled:e.startButtonState,children:"Start Game"})]})},S=a(3),k=a.n(S),H=a(5),x=a.n(H),y=function(e){var t=e.reset,a=Object(s.useState)(!1),r=Object(p.a)(a,2),c=r[0],i=r[1],l=[x.a.card];return Object(s.useEffect)((function(){i(!1)}),[t]),c&&l.push(x.a.active),Object(n.jsx)("div",{className:x.a.container,onClick:function(){e.onClick(i,e.card,c)},children:Object(n.jsxs)("div",{className:l.join(" "),"data-value":e.card,children:[Object(n.jsx)("div",{className:x.a.front}),Object(n.jsx)("div",{className:"".concat(x.a.back," ").concat(x.a["back_".concat(e.card)])})]})})},N=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).numberOfCards=e.props.numberOfCards,e.columns=e.props.columns,e.rows=e.props.rows,e.style={gridTemplateColumns:"repeat(".concat(e.columns,", 1fr)"),gridTemplateRows:"repeat(".concat(e.rows,", 1fr)")},e.clickBlock=!1,e.state={cards:e.makeRandomArrayOfCards(e.numberOfCards),vanish:!1,openedCardsHooks:[],openedCardsNumber:0,steps:0,firstCardValue:null,secondCardValue:null,cardReset:!1,leftCards:e.numberOfCards},e.cardCLickHandler=function(t,a,n){e.state.openedCardsHooks.length<2&&!n&&!e.clickBlock&&(t(!n),e.state.firstCardValue?e.setState({secondCardValue:a}):e.setState({firstCardValue:a}),e.setState({openedCardsHooks:e.state.openedCardsHooks.concat(t),openedCardsNumber:e.state.openedCardsNumber+1}))},e.resetGame=function(){e.clickBlock=!0,clearTimeout(e.timeout),e.setState({cardReset:!e.state.cardReset,openedCardsHooks:[],openedCardsNumber:0,steps:0,firstCardValue:null,secondCardValue:null,leftCards:e.numberOfCards}),setTimeout((function(){e.setState({cards:e.makeRandomArrayOfCards(e.numberOfCards)}),e.clickBlock=!1}),500)},e.changeLevel=function(){e.setState({vanish:!0},(function(){return setTimeout(e.props.levelChangeHandler,700)}))},e.endGame=function(){e.setState({vanish:!0},(function(){return setTimeout(e.props.endGameHandler,700)}))},e}return Object(d.a)(a,[{key:"makeRandomArrayOfCards",value:function(e){for(var t=new Set,a=new Set,n=[],s=0;n.length<e;s++)r(t,e/2,n),r(a,e/2,n);return n;function r(e,t,a){var n=Math.floor(Math.random()*t+1);e.has(n)||(e.add(n),a.push(n))}}},{key:"componentDidMount",value:function(){this.props.setHighScoresState()}},{key:"componentDidUpdate",value:function(){var e=this;2===this.state.openedCardsNumber&&(this.timeout=setTimeout((function(){e.state.firstCardValue!==e.state.secondCardValue?e.state.openedCardsHooks.forEach((function(e){return e(!1)})):e.setState({leftCards:e.state.leftCards-2}),e.setState({steps:e.state.steps+1,openedCardsHooks:[],secondCardValue:null,firstCardValue:null},(function(){e.state.leftCards||(e.setState({vanish:!0}),setTimeout((function(){return e.props.finishGameHandler(e.state.steps)}),700))}))}),1e3),this.setState({openedCardsNumber:0}))}},{key:"render",value:function(){var e=this,t=[k.a.Game];return this.state.vanish&&t.push(k.a.vanish),Object(n.jsxs)("div",{className:t.join(" "),children:[Object(n.jsxs)("div",{className:k.a.header,children:[Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:k.a.player,children:["Player: ",Object(n.jsx)("span",{children:this.props.playerName})]}),Object(n.jsxs)("div",{className:k.a.steps,children:["Steps: ",Object(n.jsx)("span",{children:this.state.steps})]})]}),Object(n.jsxs)("div",{className:k.a.buttons,children:[Object(n.jsx)("button",{onClick:this.resetGame,children:"Reset"}),Object(n.jsx)("button",{onClick:this.changeLevel,children:"Change Level"}),Object(n.jsx)("button",{onClick:this.endGame,children:"End Game"})]})]}),Object(n.jsx)("div",{className:k.a.cards,style:this.style,children:this.state.cards.map((function(t,a){return Object(n.jsx)(y,{card:t,onClick:e.cardCLickHandler,reset:e.state.cardReset},a)}))})]})}}]),a}(s.Component),L=a(2),I=a.n(L),F=function(e){var t=Object(s.useState)(!1),a=Object(p.a)(t,2),c=a[0],i=a[1],l=e.arrayOfHighScores.map((function(e){return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)("div",{className:I.a.scores__name,children:e[0]}),Object(n.jsx)("div",{className:I.a.scores__score,children:e[1]})]},e[0])}));return Object(n.jsxs)("div",{className:I.a.Finish,children:[Object(n.jsx)("header",{children:Object(n.jsx)("h1",{children:"Finish"})}),Object(n.jsxs)("main",{children:[Object(n.jsxs)("div",{className:I.a["player-highscore"],children:[Object(n.jsxs)("span",{className:I.a["player-highscore__name"],children:[e.playerName,","]})," Your Score is ",Object(n.jsx)("span",{className:I.a["player-highscore__score"],children:e.score})," steps on ",Object(n.jsx)("span",{className:I.a["player-highscore__level"],children:e.level})," level"]}),Object(n.jsxs)("div",{className:I.a["action-buttons"],children:[Object(n.jsx)("button",{onClick:function(t){return e.retry(t)},children:"Retry"}),Object(n.jsx)("button",{onClick:e.levelChangeHandler,children:"Change Level"}),Object(n.jsx)("button",{onClick:e.endGameHandler,children:"End Game"})]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("h2",{children:[e.level," Level High Scores"]}),Object(n.jsx)("div",{className:I.a.scores,children:!c&&l})]})]}),Object(n.jsx)("footer",{children:Object(n.jsx)("button",{onClick:function(){e.deleteHighscoresFromLocalSorage(),i(!0)},children:"Delete Scores"})})]})},G=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).fadeOutTimout=700,e.minimumUserNameLength=3,e.nameInputPlaceHolder="Minimum ".concat(e.minimumUserNameLength," Symbols"),e.levels=["junior","middle","senior"],e.settings={junior:{numberOfCards:20,rows:4,columns:5},middle:{numberOfCards:24,rows:4,columns:6},senior:{numberOfCards:30,rows:5,columns:6}},e.state={game:"nameInput",playerName:"",gameLevel:"",startButtonDisabled:!0,highScores:{}},e.nameInputHandler=function(t,a){e.setState({playerName:t.target.value.trim()},(function(){return e.state.playerName.length>=e.minimumUserNameLength?a(!1):a(!0)}))},e.nameInputFocusHandler=function(e){e.target.placeholder=""},e.nameInputBlurHandler=function(t){t.target.placeholder=e.nameInputPlaceHolder},e.nameButtonHandler=function(t){t(!0),setTimeout((function(){return e.setState({game:"levelInput"})}),e.fadeOutTimout)},e.levelSelectHandler=function(t){e.setState({gameLevel:t.target.value,startButtonDisabled:!1})},e.startButtonHandler=function(t,a){t.current.classList.add(a),setTimeout((function(){return e.setState({game:"gameStart"})}),e.fadeOutTimout)},e.setGame=function(t){return Object(l.a)(Object(l.a)({},e.settings[t]),{},{playerName:e.state.playerName,levelChangeHandler:e.levelChangeHandler,endGameHandler:e.endGameHandler,finishGameHandler:e.finishGameHandler,setHighScoresState:e.setHighScoresState})},e.levelChangeHandler=function(){e.setState({game:"levelInput",gameLevel:"",startButtonDisabled:!0,score:0})},e.endGameHandler=function(){e.setState({game:"nameInput",playerName:"",gameLevel:"",startButtonDisabled:!0})},e.finishGameHandler=function(t){return e.setState({score:t},e.saveScoreHandler)},e.setHighScoresState=function(){var t=e.getHighscoresFromLocalSorage();t?e.setState({highScores:t}):e.setState({highScores:{}})},e.retryGameHandler=function(t){t?e.setState({game:"gameStart",highScores:{}}):e.setState({game:"gameStart"})},e.saveScoreHandler=function(){var t=e.state.highScores;t[e.state.playerName]=t[e.state.playerName]&&t[e.state.playerName]<e.state.score?t[e.state.playerName]:e.state.score;var a=Object.entries(t).sort((function(e,t){return e[1]-t[1]}));e.setState({highScores:t,arrayOfHighScores:a,game:"gameFinished"},e.setHighscoresToLocalStorage)},e.setHighscoresToLocalStorage=function(){return localStorage.setItem(e.state.gameLevel,JSON.stringify(e.state.highScores))},e.getHighscoresFromLocalSorage=function(){return JSON.parse(localStorage.getItem(e.state.gameLevel))},e.deleteHighscoresFromLocalSorage=function(){return localStorage.removeItem(e.state.gameLevel)},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:_.a.App,children:["nameInput"===this.state.game&&Object(n.jsx)(v,{onClick:this.nameButtonHandler,onChange:this.nameInputHandler,nameInputValue:this.state.playerName,nameInputPlaceHolder:this.nameInputPlaceHolder,minimumUserNameLength:this.minimumUserNameLength,nameInputFocusHandler:this.nameInputFocusHandler,nameInputBlurHandler:this.nameInputBlurHandler}),"levelInput"===this.state.game&&Object(n.jsx)(O,{levelChangeHandler:this.levelSelectHandler,startButtonState:this.state.startButtonDisabled,startButtonHandler:this.startButtonHandler,levels:Object.keys(this.settings)}),"gameStart"===this.state.game&&Object(n.jsx)(N,Object(l.a)({},this.setGame(this.state.gameLevel))),"gameFinished"===this.state.game&&Object(n.jsx)(F,{score:this.state.score,arrayOfHighScores:this.state.arrayOfHighScores,playerName:this.state.playerName,level:this.state.gameLevel,retry:this.retryGameHandler,levelChangeHandler:this.levelChangeHandler,endGameHandler:this.endGameHandler,deleteHighscoresFromLocalSorage:this.deleteHighscoresFromLocalSorage})]})}}]),a}(s.Component),B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,23)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),r(e),c(e)}))};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(G,{})}),document.getElementById("root")),B()}],[[22,1,2]]]);
//# sourceMappingURL=main.65d1439e.chunk.js.map